{% load static %}
<header class="flex justify-center">
    <nav class="bg-gray-900 w-full">
        <div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8">
            <div class="relative flex items-center justify-between h-24">
                <div class="flex items-center justify-start">
                    <div class="flex-shrink-0">
                        <a href="{% url 'index' %}" class="text-gray-100 text-4xl font-semibold">InfoStat</a>
                    </div>
                </div>
                <div class="flex-1 flex items-center justify-center sm:justify-start">
                    <div class="hidden sm:block sm:ml-6" id="dropdownDefaultButton">
                        <div class="flex space-x-4">
                            <a href="{% url 'liste_secteur' %}" class="text-gray-300 hover:bg-blue-700 hover:text-white px-3 py-2 rounded text-sm">Secteurs</a>
                            <a href="#discussion" class="text-gray-300 hover:bg-blue-700 hover:text-white px-3 py-2 rounded text-sm">Rapports</a>
                            <a href="{% url 'daily_data' %}" class="text-gray-300 hover:bg-blue-700 hover:text-white px-3 py-2 rounded text-sm">Daily Data</a>
                            <a href="{% url 'recherche' %}" class="text-gray-300 hover:bg-blue-700 hover:text-white px-3 py-2 rounded text-sm">Rechercher</a>
                            {% if user.is_superuser == 1 %}
                                <a href="{% url 'infographie_new' %}" class="text-gray-300 hover:bg-blue-700 hover:text-white px-3 py-2 rounded text-sm">Ajouter une infographie</a>
                                <a href="{% url 'article_new' %}" class="text-gray-300 hover:bg-blue-700 hover:text-white px-3 py-2 rounded text-sm">Ajouter un article</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% if user.is_authenticated %}
                    <a href="{% url 'profil' %}">
                        <button class="bg-transparent hover:bg-gray-700 text-white font-semibold hover:text-white py-2 px-4 border border-white rounded">
                             {{ user.username }}
                        </button>
                    </a>
                    <a href="{% url 'logout' %}">
                        <img src="{% static 'logout.png' %}" class="h-6 ml-2" title="Déconnexion"/>
                    </a>
                {% else %}
                    <a href="{% url 'login' %}">
                        <button class="bg-transparent hover:bg-gray-700 text-white font-semibold hover:text-white py-2 px-4 border border-white rounded">
                            se connecter
                        </button>
                    </a>
                {% endif %}
            </div>
        </div>
    </nav>

    <!-- Dropdown -->
    <div id="dropdown" class="z-50 hidden bg-white rounded shadow w-2/3 dark:bg-gray-700 mt-10 flex absolute top-10">
        <div class="ml-3">
            <ul class="divide-y divide-gray-100">
                {% for theme in themes_nav %}
                    <a href="{% url 'theme' theme.id %}"><li class="my-3 hover:text-blue-600">{{theme.nom}}</li></a>
                {% endfor %}
            </ul>
        </div>
        <div class="ml-8">
            <p class="mt-3"></p> 
            <span class="text-blue-600 text-lg">Infographies et articles récents</span>
            <img class="my-2" src="{% static 'line.svg' %}">
            <div>
                {% for infographie in infographies_nav %}
                    <a href="{% url 'infographie' infographie.id %}" class="block hover:bg-gray-100 py-1 rounded">
                        <div class="flex items-center">
                            <img src="{% static 'graphique.png' %}" class="h-5 mr-1">
                            <span class="text-gray-600">{{ infographie.titre }}</span>
                        </div>
                    </a>
                {% endfor %}
            </div>
            <div>
                {% for article in articles_nav %}
                    <a href="{% url 'article' article.id %}" class="block hover:bg-gray-100 py-1 rounded">
                        <div class="flex items-center">
                            <img src="{% static 'article.png' %}" class="h-5 mr-1">
                            <span class="text-gray-600">{{ article.titre }}</span>
                        </div>
                    </a>
                {% endfor %}
            </div>
        </div>
    </div>
</header>

{% block javascript %}
    <script src="{% static 'js/dropdown.js' %}"></script>
{% endblock javascript %}

